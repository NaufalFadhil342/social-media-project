{"version":3,"file":"static/js/576.f0f0a13e.chunk.js","mappings":"0QAMaA,EAAW,SAAH,GAAkB,IAAZC,EAAI,EAAJA,KACzB,GAAeC,EAAAA,EAAAA,IAAaC,EAAAA,GAArBC,GAA0B,YAAtB,GAEX,GAA0BC,EAAAA,EAAAA,UAAS,MAAK,eAAjCC,EAAK,KAAEC,EAAQ,KACtB,GAAgCF,EAAAA,EAAAA,UAAS,MAAK,eAAvCG,EAAQ,KAAEC,EAAW,KAEtBC,GAAWC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,SAC1BC,GAAcF,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,YAE7BE,GAAWC,EAAAA,EAAAA,IAAML,GAAUM,EAAAA,EAAAA,IAAM,SAAU,KAAMf,EAAKgB,KACtDC,GAAcH,EAAAA,EAAAA,IAAMF,GAAaG,EAAAA,EAAAA,IAAM,SAAU,KAAMf,EAAKgB,KAE5DE,GAAWC,EAAAA,EAAAA,cAAW,uBAAC,0GACRC,EAAAA,EAAAA,IAAQP,GAAU,KAAD,EAA9BQ,EAAI,OACVf,EAASe,EAAKC,KAAKC,KAAI,SAACC,GAAG,MAAM,CAAEC,OAAQD,EAAIH,OAAOI,OAAQ,KAAI,2CACjE,IAEGC,GAAcP,EAAAA,EAAAA,cAAW,uBAAC,0GACXC,EAAAA,EAAAA,IAAQH,GAAa,KAAD,EAAjCI,EAAI,OACVb,EAAYa,EAAKC,KAAKC,KAAI,SAACC,GAAG,MAAM,CAAEC,OAAQD,EAAIH,OAAOI,OAAQ,KAAI,2CACpE,KAEHE,EAAAA,EAAAA,YAAU,WACRT,IACAQ,GACF,GAAG,CAACR,EAAUQ,IAEd,IAAME,EAAO,yCAAG,oGACRC,EAAAA,EAAAA,IAAOpB,EAAU,CACrBgB,OAAY,OAAJtB,QAAI,IAAJA,OAAI,EAAJA,EAAM2B,IACdC,OAAQ/B,EAAKgB,KACZ,KAAD,sCACH,kBALY,mCAOPgB,EAAU,yCAAG,oGACXH,EAAAA,EAAAA,IAAOjB,EAAa,CACxBa,OAAY,OAAJtB,QAAI,IAAJA,OAAI,EAAJA,EAAM2B,IACdC,OAAQ/B,EAAKgB,KACZ,KAAD,sCACH,kBALe,mCAOhB,OACE,iBAAKiB,UAAU,SAAQ,WACrB,iBAAKA,UAAU,MAAK,WAClB,wBAAKjC,EAAKkC,SACV,uBAAIlC,EAAKmC,kBAEX,iBAAKF,UAAU,SAAQ,WACrB,6BAAKjC,EAAKoC,aACV,iBAAKH,UAAU,gBAAe,WAC5B,iBAAKA,UAAU,QAAO,WACpB,mBAAQI,QAAST,EAAQ,2BACzB,mCAAgB,OAALvB,QAAK,IAALA,OAAK,EAALA,EAAOiC,OAAM,WAE1B,iBAAKL,UAAU,WAAU,WACvB,mBAAQI,QAASL,EAAW,2BAC5B,sCAAsB,OAARzB,QAAQ,IAARA,OAAQ,EAARA,EAAU+B,OAAM,kBAM1C,ECxCA,EAvBa,WACX,OAAkClC,EAAAA,EAAAA,UAAS,MAAK,eAAzCmC,EAAS,KAAEC,EAAY,KAExBC,GAAU/B,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,SAEzB+B,EAAQ,yCAAG,0GACItB,EAAAA,EAAAA,IAAQqB,GAAS,KAAD,EAA7BpB,EAAI,OACVmB,EAAanB,EAAKC,KAAKC,KAAI,SAACC,GAAG,yBAAWA,EAAIH,QAAM,IAAEL,GAAIQ,EAAIR,IAAE,KAAM,2CACvE,kBAHa,mCASd,OAJAW,EAAAA,EAAAA,YAAU,WACRe,GACF,KAGE,mBAAQT,UAAU,OAAM,SACZ,OAATM,QAAS,IAATA,OAAS,EAATA,EAAWhB,KAAI,SAACvB,GACf,OAAO,SAACD,EAAQ,CAACC,KAAMA,GAAWA,EAAKgB,GACzC,KAGN,C","sources":["Pages/main/main-post.js","Pages/main/index.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { db, auth } from '../../config/firebase';\r\nimport { collection, addDoc, getDocs, query, where } from 'firebase/firestore';\r\n\r\nexport const MainPost = ({ post }) => {\r\n  const [user] = useAuthState(auth);\r\n\r\n  const [likes, setLikes] = useState(null);\r\n  const [dislikes, setDislikes] = useState(null);\r\n\r\n  const likesRef = collection(db, 'likes');\r\n  const dislikesRef = collection(db, 'dislikes');\r\n\r\n  const likesDoc = query(likesRef, where('postId', '==', post.id));\r\n  const dislikesDoc = query(dislikesRef, where('postId', '==', post.id));\r\n\r\n  const getLikes = useCallback(async () => {\r\n    const data = await getDocs(likesDoc);\r\n    setLikes(data.docs.map((doc) => ({ userId: doc.data().userId })));\r\n  }, []);\r\n\r\n  const getDislikes = useCallback(async () => {\r\n    const data = await getDocs(dislikesDoc);\r\n    setDislikes(data.docs.map((doc) => ({ userId: doc.data().userId })));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getLikes();\r\n    getDislikes();\r\n  }, [getLikes, getDislikes]);\r\n\r\n  const addLike = async () => {\r\n    await addDoc(likesRef, {\r\n      userId: user?.uid,\r\n      postId: post.id,\r\n    });\r\n  };\r\n\r\n  const addDislike = async () => {\r\n    await addDoc(dislikesRef, {\r\n      userId: user?.uid,\r\n      postId: post.id,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"postId\">\r\n      <div className=\"top\">\r\n        <h3>{post.title}</h3>\r\n        <p>{post.description}</p>\r\n      </div>\r\n      <div className=\"bottom\">\r\n        <p>@{post.username}</p>\r\n        <div className=\"toggle-button\">\r\n          <div className=\"likes\">\r\n            <button onClick={addLike}>&#128077;</button>\r\n            <p>Likes: {likes?.length} </p>\r\n          </div>\r\n          <div className=\"dislikes\">\r\n            <button onClick={addDislike}>&#128078;</button>\r\n            <p>Dislikes: {dislikes?.length} </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { collection, getDocs } from 'firebase/firestore';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { db } from '../../config/firebase';\r\nimport { MainPost } from './main-post';\r\n\r\nconst Home = () => {\r\n  const [postsList, setPostsList] = useState(null);\r\n\r\n  const postRef = collection(db, 'posts');\r\n\r\n  const getPosts = async () => {\r\n    const data = await getDocs(postRef);\r\n    setPostsList(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  });\r\n\r\n  return (\r\n    <header className=\"home\">\r\n      {postsList?.map((post) => {\r\n        return <MainPost post={post} key={post.id} />;\r\n      })}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["MainPost","post","useAuthState","auth","user","useState","likes","setLikes","dislikes","setDislikes","likesRef","collection","db","dislikesRef","likesDoc","query","where","id","dislikesDoc","getLikes","useCallback","getDocs","data","docs","map","doc","userId","getDislikes","useEffect","addLike","addDoc","uid","postId","addDislike","className","title","description","username","onClick","length","postsList","setPostsList","postRef","getPosts"],"sourceRoot":""}